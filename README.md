
# mvn-format-xml-reports

This action treats information from files generated by different Maven plugins. It ouputs variables of type String to visualize the information under the Markdown format.
The plugins are listed below:

- [jacoco-maven-plugin](https://www.eclemma.org/jacoco/trunk/doc/maven.html)
- [ck-mvn-plugin](https://github.com/jazzmuesli/ck-mvn-plugin)
- [JaSoMe](https://github.com/rodhilton/jasome)
- [Apache Maven Checkstyle Plugin](https://maven.apache.org/plugins/maven-checkstyle-plugin/)
- [DesigniteJava](https://github.com/tushartushar/DesigniteJava)

You can use it in your Github Actions workflow.

## Inputs

| File                    | Description                                                    |
| ----------------------- | -------------------------------------------------------------- |
| `jacoco-html-report`    | **Required** Generated by Jacoco plugin. The file corresponding<br/> to the analysis of the test coverage, /target/site/jacoco/index.html
| `ck-main-class-csv`     | **Required** Generated by ck-mvn-plugin. The file corresponding<br/> to the analysis of the classes in the **main folder**. |
| `metrics-xml`           | **Required** Generated by JaSoMe. The file corresponding<br/> to the analysis of the src folder. |
| `checkstyle-result-xml` | **Required** Generated by Apache Maven Checkstyle Plugin. The <br/>file corresponding to the analysis of **code quality**. |
| `designite-result-csv`  | **Required** Generated by DesigniteJava. The file corresponding<br/> to the analysis of **code smells**. |

## Outputs

| Variable                | Description                                                    |   
| ----------------------- | -------------------------------------------------------------- |
| `test-coverage-comment` | A Markdown formatted text displaying the total percentage of test coverage |
| `metrics-comment`       | Markdown formatted tables in a String variable that displays <br/>the value of the metrics for each **class** and each **method**. |
| `checkstyle-comment`    | A Markdown formatted text displaying a list of **errors** with<br/> their location |
| `designite-comment`     | A Markdown formatted text displaying a list of **code smells**<br/> with their location |

## Example usage

Once you executed the goal of each plugin.

```yaml
  uses: tupac-rocher/mvn-format-xml-reports@v1.8
  with:
    jacoco-html-report: ${{ github.workspace }}/target/site/jacoco/index.html
    checkstyle-result-xml: ${{ github.workspace }}/target/checkstyle-result.xml
    designite-result-csv: ${{ github.workspace }}/target/designite/designCodeSmells.csv
    ck-main-class-csv: ${{ github.workspace }}/src/main/java/class.csv
    metrics-xml: ${{ github.workspace }}/metrics.xml
```
